<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>YourZoy Birth Code</title>
<style>
:root {--navy:#0B132B; --gold:#FFD700; --navy2:#1C2541; --text:#fff;}
body {margin:0;padding:0;background:var(--navy);color:var(--text);font-family:'Noto Sans KR',sans-serif;text-align:center;}
.wrap {max-width:520px;margin:8vh auto;padding:30px;background:var(--navy2);border-radius:20px;box-shadow:0 0 40px rgba(0,0,0,.4);border:1px solid rgba(255,215,0,.25);}
h1 {color:var(--gold);}
label {display:block;margin-top:14px;text-align:left;color:var(--gold);font-weight:600;}
input,select,button {width:100%;padding:12px 14px;border-radius:12px;border:1px solid rgba(255,215,0,.3);background:#0f1733;color:#fff;margin-top:8px;}
button {margin-top:20px;background:var(--gold);color:#111;font-weight:700;cursor:pointer;}
.result {margin-top:20px;padding:14px;background:#111833;border-radius:12px;border:1px solid rgba(255,215,0,.2);}
</style>
</head>
<body>
<main class="wrap">
  <h1>ğŸ”® YourZoy Birth Code</h1>
  <p>ìƒë…„ì›”ì¼ê³¼ ì¶œìƒ ì‹œê°„ì„ ì…ë ¥í•˜ì„¸ìš”.</p>
  <label>ìƒë…„ì›”ì¼</label>
  <input type="date" id="birthdate">
  <label>ì¶œìƒì‹œê°„</label>
  <select id="birthtime">
    <option value="0">ìì‹œ (23:00~00:59)</option>
    <option value="1">ì¶•ì‹œ (01:00~02:59)</option>
    <option value="2">ì¸ì‹œ (03:00~04:59)</option>
    <option value="3">ë¬˜ì‹œ (05:00~06:59)</option>
    <option value="4">ì§„ì‹œ (07:00~08:59)</option>
    <option value="5">ì‚¬ì‹œ (09:00~10:59)</option>
    <option value="6">ì˜¤ì‹œ (11:00~12:59)</option>
    <option value="7">ë¯¸ì‹œ (13:00~14:59)</option>
    <option value="8">ì‹ ì‹œ (15:00~16:59)</option>
    <option value="9">ìœ ì‹œ (17:00~18:59)</option>
    <option value="10">ìˆ ì‹œ (19:00~20:59)</option>
    <option value="11">í•´ì‹œ (21:00~22:59)</option>
  </select>
  <button onclick="goSurvey()">ì„±í–¥í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
  <div id="resultBox" class="result" style="display:none"></div>
</main>

<script>
const stems=["ê°‘","ì„","ë³‘","ì •","ë¬´","ê¸°","ê²½","ì‹ ","ì„","ê³„"];
const branchK=["ì","ì¶•","ì¸","ë¬˜","ì§„","ì‚¬","ì˜¤","ë¯¸","ì‹ ","ìœ ","ìˆ ","í•´"];
const colorMap={ê°‘:"ì´ˆë¡",ì„:"ì´ˆë¡",ë³‘:"ë¹¨ê°•",ì •:"ë¹¨ê°•",ë¬´:"ë…¸ë‘",ê¸°:"ë…¸ë‘",ê²½:"íšŒìƒ‰",ì‹ :"íšŒìƒ‰",ì„:"ë‚¨ìƒ‰",ê³„:"ë‚¨ìƒ‰"};
const animalMap={ì:"ì¥",ì¶•:"ì†Œ",ì¸:"í˜¸ë‘ì´",ë¬˜:"í† ë¼",ì§„:"ìš©",ì‚¬:"ë±€",ì˜¤:"ë§",ë¯¸:"ì–‘",ì‹ :"ì›ìˆ­ì´",ìœ :"ë‹­",ìˆ :"ê°œ",í•´:"ë¼ì§€"};

function JD(y,m,d){const a=Math.floor((14-m)/12);const y2=y+4800-a;const m2=m+12*a-3;return d+Math.floor((153*m2+2)/5)+365*y2+Math.floor(y2/4)-Math.floor(y2/100)+Math.floor(y2/400)-32045;}
function getDayGanji(y,m,d){const base=JD(1984,2,2);const idx=(JD(y,m,d)-base+2)%60;return[stems[idx%10],branchK[idx%12]];}

function goSurvey(){
  const date=document.getElementById("birthdate").value;
  if(!date) return alert("ìƒë…„ì›”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”!");
  const [y,m,d]=date.split("-").map(Number);
  const [stem,branch]=getDayGanji(y,m,d);
  const color=colorMap[stem],animal=animalMap[branch];
  const ilju=color+" "+animal;
  localStorage.setItem("yourzoy_ilju",ilju);
  window.location.href="survey.html";
}
</script>
</body>
</html>
