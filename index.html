<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>YourZoy Birth Code</title>
<style>
:root {--navy:#0B132B; --gold:#FFD700; --navy2:#1C2541; --text:#fff;}
body {margin:0;padding:0;background:var(--navy);color:var(--text);font-family:'Noto Sans KR',sans-serif;text-align:center;}
.wrap {max-width:520px;margin:8vh auto;padding:30px;background:var(--navy2);border-radius:20px;box-shadow:0 0 40px rgba(0,0,0,.4);border:1px solid rgba(255,215,0,.25);}
h1 {color:var(--gold);}
label {display:block;margin-top:14px;text-align:left;color:var(--gold);font-weight:600;}
input,select,button {width:100%;padding:12px 14px;border-radius:12px;border:1px solid rgba(255,215,0,.3);background:#0f1733;color:#fff;margin-top:8px;}
button {margin-top:20px;background:var(--gold);color:#111;font-weight:700;cursor:pointer;}
.result {margin-top:20px;padding:14px;background:#111833;border-radius:12px;border:1px solid rgba(255,215,0,.2);}
</style>
</head>
<body>
<main class="wrap">
  <h1>🔮 YourZoy Birth Code</h1>
  <p>생년월일과 출생 시간을 입력하세요.</p>
  <label>생년월일</label>
  <input type="date" id="birthdate">
  <label>출생시간</label>
  <select id="birthtime">
    <option value="0">자시 (23:00~00:59)</option>
    <option value="1">축시 (01:00~02:59)</option>
    <option value="2">인시 (03:00~04:59)</option>
    <option value="3">묘시 (05:00~06:59)</option>
    <option value="4">진시 (07:00~08:59)</option>
    <option value="5">사시 (09:00~10:59)</option>
    <option value="6">오시 (11:00~12:59)</option>
    <option value="7">미시 (13:00~14:59)</option>
    <option value="8">신시 (15:00~16:59)</option>
    <option value="9">유시 (17:00~18:59)</option>
    <option value="10">술시 (19:00~20:59)</option>
    <option value="11">해시 (21:00~22:59)</option>
  </select>
  <button onclick="goSurvey()">성향테스트 시작하기</button>
  <div id="resultBox" class="result" style="display:none"></div>
</main>

<script>
const stems=["갑","을","병","정","무","기","경","신","임","계"];
const branchK=["자","축","인","묘","진","사","오","미","신","유","술","해"];
const colorMap={갑:"초록",을:"초록",병:"빨강",정:"빨강",무:"노랑",기:"노랑",경:"회색",신:"회색",임:"남색",계:"남색"};
const animalMap={자:"쥐",축:"소",인:"호랑이",묘:"토끼",진:"용",사:"뱀",오:"말",미:"양",신:"원숭이",유:"닭",술:"개",해:"돼지"};

function JD(y,m,d){const a=Math.floor((14-m)/12);const y2=y+4800-a;const m2=m+12*a-3;return d+Math.floor((153*m2+2)/5)+365*y2+Math.floor(y2/4)-Math.floor(y2/100)+Math.floor(y2/400)-32045;}
function getDayGanji(y,m,d){const base=JD(1984,2,2);const idx=(JD(y,m,d)-base+2)%60;return[stems[idx%10],branchK[idx%12]];}

function goSurvey(){
  const date=document.getElementById("birthdate").value;
  if(!date) return alert("생년월일을 입력하세요!");
  const [y,m,d]=date.split("-").map(Number);
  const [stem,branch]=getDayGanji(y,m,d);
  const color=colorMap[stem],animal=animalMap[branch];
  const ilju=color+" "+animal;
  localStorage.setItem("yourzoy_ilju",ilju);
  window.location.href="survey.html";
}
</script>
</body>
</html>
