<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>YourZoy 성향 테스트</title>
<style>
body{
  background:#0B132B;
  color:#fff;
  font-family:'Noto Sans KR',sans-serif;
  text-align:center;
  margin:0;
  padding:0;
}
.wrap{
  max-width:600px;
  margin:6vh auto;
  padding:32px;
  background:#1C2541;
  border-radius:20px;
  border:1px solid rgba(255,215,0,.25);
  box-shadow:0 0 40px rgba(0,0,0,.3);
}
h1{color:#FFD700;margin-bottom:20px;}
.qBox{
  background:#0F1733;
  padding:28px;
  border-radius:16px;
  border:1px solid rgba(255,215,0,.2);
  font-size:17px;
  line-height:1.6;
  margin-bottom:24px;
}
.btn{
  display:block;
  width:100%;
  padding:14px;
  border:none;
  border-radius:12px;
  margin:10px 0;
  font-size:15px;
  font-weight:700;
  cursor:pointer;
  background:#FFD700;
  color:#111;
  transition:.25s;
}
.btn:hover{filter:brightness(1.05);}
.progress{
  height:8px;
  background:rgba(255,255,255,.1);
  border-radius:5px;
  margin:20px 0;
}
.progress-bar{
  height:100%;
  background:#FFD700;
  width:0%;
  border-radius:5px;
  transition:width .3s ease;
}
</style>
</head>
<body>
  <main class="wrap">
    <h1>🌟 YourZoy 성향 테스트</h1>
    <div class="progress"><div class="progress-bar" id="progress"></div></div>
    <div class="qBox" id="question"></div>
    <div id="answers"></div>
  </main>

<script>
const questions = [
  { q:"나는 계획보단 즉흥적으로 움직이는 편이다.", a:["그렇다","아니다"], zone:{A:0,D:1} },
  { q:"감정보다 논리적으로 판단하는 편이다.", a:["그렇다","아니다"], zone:{B:0,C:1} },
  { q:"혼자 있을 때 에너지가 충전된다.", a:["그렇다","아니다"], zone:{A:1,B:0} },
  { q:"사람들을 설득하거나 리드하는 게 즐겁다.", a:["그렇다","아니다"], zone:{C:1,B:0} },
  { q:"새로운 걸 시도하는 게 두렵지 않다.", a:["그렇다","아니다"], zone:{D:1,A:0} },
  { q:"감정 표현이 서툴다.", a:["그렇다","아니다"], zone:{C:1,B:0} },
  { q:"규칙과 질서를 중요하게 생각한다.", a:["그렇다","아니다"], zone:{A:1,D:0} },
  { q:"감정이 풍부하고 공감 능력이 높다.", a:["그렇다","아니다"], zone:{B:1,C:0} },
  { q:"리스크가 커도 흥미로운 일엔 도전한다.", a:["그렇다","아니다"], zone:{D:1,A:0} },
  { q:"사람들과 어울리는 게 좋다.", a:["그렇다","아니다"], zone:{B:1,A:0} },
  { q:"생각보다 행동이 앞선다.", a:["그렇다","아니다"], zone:{D:1,C:0} },
  { q:"논리적으로 체계를 세우는 걸 좋아한다.", a:["그렇다","아니다"], zone:{C:1,B:0} },
  { q:"감정 기복이 적고 차분하다.", a:["그렇다","아니다"], zone:{A:1,B:0} },
  { q:"즉흥적인 모험보다 안전한 선택을 한다.", a:["그렇다","아니다"], zone:{A:1,D:0} },
  { q:"타인의 감정을 쉽게 눈치챈다.", a:["그렇다","아니다"], zone:{B:1,C:0} },
  { q:"큰 그림을 그리고 실행하는 걸 즐긴다.", a:["그렇다","아니다"], zone:{C:1,A:0} },
  { q:"사람들과 감정적으로 연결되는 게 중요하다.", a:["그렇다","아니다"], zone:{B:1,C:0} },
  { q:"감각적 경험(음악, 향기, 색 등)을 중시한다.", a:["그렇다","아니다"], zone:{D:1,A:0} },
  { q:"규칙이 있는 환경이 편하다.", a:["그렇다","아니다"], zone:{A:1,D:0} },
  { q:"팀보다 개인 프로젝트가 좋다.", a:["그렇다","아니다"], zone:{A:1,B:0} },
  { q:"감정보다 데이터가 더 믿음 간다.", a:["그렇다","아니다"], zone:{C:1,B:0} },
  { q:"남을 도울 때 보람을 느낀다.", a:["그렇다","아니다"], zone:{B:1,C:0} },
  { q:"즉흥적인 아이디어로 문제를 해결한다.", a:["그렇다","아니다"], zone:{D:1,A:0} },
  { q:"자기 성찰을 자주 한다.", a:["그렇다","아니다"], zone:{A:1,B:0} },
  { q:"효율적 시스템을 구축하는 걸 좋아한다.", a:["그렇다","아니다"], zone:{C:1,B:0} },
  { q:"사람의 감정선보다 일의 효율이 우선이다.", a:["그렇다","아니다"], zone:{C:1,B:0} },
  { q:"새로운 자극이 없으면 쉽게 지루해진다.", a:["그렇다","아니다"], zone:{D:1,A:0} },
  { q:"타인의 감정을 깊이 이해한다.", a:["그렇다","아니다"], zone:{B:1,C:0} },
  { q:"혼자 조용히 집중할 때 효율이 높다.", a:["그렇다","아니다"], zone:{A:1,B:0} },
  { q:"틀에 박힌 규칙보다 유연한 환경이 좋다.", a:["그렇다","아니다"], zone:{D:1,A:0} }
];

let current = 0;
let scores = {A:0,B:0,C:0,D:0};

function showQuestion(){
  const q = questions[current];
  document.getElementById("question").innerText = `${current+1}. ${q.q}`;
  const btnBox = document.getElementById("answers");
  btnBox.innerHTML = "";
  q.a.forEach((ans, idx) => {
    const btn = document.createElement("button");
    btn.className = "btn";
    btn.innerText = ans;
    btn.onclick = () => {
      if(idx === 0){
        for(let z in q.zone){scores[z]+=q.zone[z];}
      }
      nextQuestion();
    };
    btnBox.appendChild(btn);
  });
  document.getElementById("progress").style.width = ((current+1)/questions.length)*100 + "%";
}

function nextQuestion(){
  current++;
  if(current < questions.length){
    showQuestion();
  } else {
    finishTest();
  }
}

function finishTest(){
  // 가장 높은 점수 Zone 계산
  let maxZone = "A";
  let maxScore = 0;
  for(let z in scores){
    if(scores[z] > maxScore){
      maxScore = scores[z];
      maxZone = z;
    }
  }

  // 사주(일주) 가져오기
  const ilju = localStorage.getItem("yourzoy_ilju") || "붉은 쥐";
  localStorage.setItem("yourzoy_zone", maxZone);

  // 결과 페이지로 이동
  window.location.href = `result.html?ilju=${encodeURIComponent(ilju)}&zone=${maxZone}`;
}

// 시작
showQuestion();
</script>
</body>
</html>
