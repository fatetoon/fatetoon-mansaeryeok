<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>YOURZOY 나만의 ZONE 찾기 테스트</title>
<style>
:root{--navy:#0B132B;--navy2:#1C2541;--gold:#FFD700;--text:#FFF;}
body{margin:0;background:var(--navy);color:var(--text);font-family:"Noto Sans KR",sans-serif;}
.wrap{max-width:580px;margin:5vh auto;padding:30px;border-radius:24px;background:var(--navy2);
box-shadow:0 20px 60px rgba(0,0,0,.4);}
h1{text-align:center;color:var(--gold);margin:0 0 8px;}
p{text-align:center;color:rgba(255,255,255,.75);}
.question{margin:30px 0;}
.question h3{color:var(--gold);font-size:17px;margin-bottom:14px;}
.options{display:flex;flex-direction:column;gap:8px;}
label{font-size:15px;}
input[type=radio]{margin-right:6px;}
.btn-wrap{display:flex;gap:8px;margin-top:24px;}
button{
  flex:1;
  background:var(--gold);
  color:#111;
  padding:13px 16px;
  border:none;
  border-radius:14px;
  font-weight:800;
  cursor:pointer;
  transition:.25s;
}
button:hover{filter:brightness(1.05);}
button:disabled{opacity:.4;cursor:not-allowed;}
.progress{height:6px;background:rgba(255,215,0,.25);border-radius:4px;overflow:hidden;margin:16px 0;}
.progress-inner{height:6px;background:var(--gold);width:0;transition:.3s;}
footer{text-align:center;color:rgba(255,255,255,.45);font-size:12px;margin-top:20px;}
</style>
</head>
<body>
<main class="wrap">
<h1>YOURZOY</h1>
<p>30문항으로 당신의 조이의 ZONE을 분석합니다.<br>응답은 약 10분 내외입니다.</p>

<div class="progress"><div class="progress-inner" id="bar"></div></div>
<div id="quiz"></div>

<div class="btn-wrap">
  <button id="prev" disabled>이전</button>
  <button id="next">다음</button>
</div>

<footer>© 2025 YOURZOY</footer>
</main>

<script>
// ======================== 질문 세트 =========================
const Q=[
  {q:"나는 새로운 환경에서 에너지를 얻는다.",t:"E"},
  {q:"나는 세부사항보다는 전체적인 그림을 본다.",t:"N"},
  {q:"나는 감정보다 사실을 중시한다.",t:"T"},
  {q:"나는 즉흥적보다는 계획적이다.",t:"J"},
  {q:"나는 혼자 있는 시간을 통해 재충전한다.",t:"I"},
  {q:"나는 감정의 변화를 잘 느낀다.",t:"F"},
  {q:"나는 현실적인 정보를 선호한다.",t:"S"},
  {q:"나는 일보다는 관계를 우선시한다.",t:"F"},
  {q:"나는 즉각적인 결정에 능하다.",t:"P"},
  {q:"나는 전체 구조를 설계하는 것을 좋아한다.",t:"T"},
  {q:"나는 타인의 감정에 예민하다.",t:"F"},
  {q:"나는 즉흥적 모험을 즐긴다.",t:"P"},
  {q:"나는 정리정돈된 환경을 선호한다.",t:"J"},
  {q:"나는 규칙보다 직감을 따른다.",t:"N"},
  {q:"나는 대화를 통해 생각이 정리된다.",t:"E"},
  {q:"나는 데이터로 사고하는 편이다.",t:"T"},
  {q:"나는 아이디어를 시각적으로 구상한다.",t:"N"},
  {q:"나는 사람들의 분위기에 영향을 받는다.",t:"F"},
  {q:"나는 혼자서도 즐겁게 논다.",t:"I"},
  {q:"나는 계획에 따라 움직일 때 안정된다.",t:"J"},
  {q:"나는 감각적인 자극을 좋아한다.",t:"S"},
  {q:"나는 논리적으로 토론하기를 즐긴다.",t:"T"},
  {q:"나는 상황에 따라 유연하게 바뀐다.",t:"P"},
  {q:"나는 감정 표현이 솔직하다.",t:"F"},
  {q:"나는 미래에 대한 상상을 자주 한다.",t:"N"},
  {q:"나는 대담하고 즉흥적인 성격이다.",t:"E"},
  {q:"나는 세세한 업무도 꼼꼼하게 한다.",t:"S"},
  {q:"나는 일정한 루틴을 좋아한다.",t:"J"},
  {q:"나는 새로운 사람을 만나는 게 설렌다.",t:"E"},
  {q:"나는 완벽주의적 경향이 있다.",t:"J"}
];

// ======================== 진행 상태 =========================
let i=0;
let s={E:0,I:0,S:0,N:0,T:0,F:0,J:0,P:0};
const quiz=document.getElementById("quiz");
const bar=document.getElementById("bar");
const btnNext=document.getElementById("next");
const btnPrev=document.getElementById("prev");

// ======================== 문항 표시 =========================
function drawQ(){
  const q=Q[i];
  quiz.innerHTML=`
  <div class="question">
    <h3>Q${i+1}. ${q.q}</h3>
    <div class="options">
      <label><input type="radio" name="a" value="1">전혀 아니다</label>
      <label><input type="radio" name="a" value="2">아니다</label>
      <label><input type="radio" name="a" value="3">보통이다</label>
      <label><input type="radio" name="a" value="4">그렇다</label>
      <label><input type="radio" name="a" value="5">매우 그렇다</label>
    </div>
  </div>`;
  bar.style.width=`${(i/Q.length)*100}%`;
  btnPrev.disabled = i===0;
}
drawQ();

// ======================== 응답 처리 =========================
btnNext.onclick=()=>{
  const a=document.querySelector("input[name=a]:checked");
  if(!a) return alert("응답을 선택해주세요!");
  const val=parseInt(a.value);
  const t=Q[i].t;

  // 점수 누적
  if(["E","S","T","J"].includes(t)) s[t]+=val;
  else s[t]+=6-val;

  i++;
  if(i<Q.length){
    drawQ();
  } else {
    // MBTI 계산
    const mbti =
      (s.E>=s.I?"E":"I")+
      (s.S>=s.N?"S":"N")+
      (s.T>=s.F?"T":"F")+
      (s.J>=s.P?"J":"P");

    // ZONE 구분
    let zone="D-Zone";
    if(["INTJ","INTP","ENTJ","ENTP"].includes(mbti)) zone="C-Zone";
    else if(["INFJ","INFP","ENFJ","ENFP"].includes(mbti)) zone="B-Zone";
    else if(["ISTJ","ISFJ","ESTJ","ESFJ"].includes(mbti)) zone="A-Zone";

    // 저장 및 결과 이동
    const surveyData={mbti,zone};
    localStorage.setItem("surveyType", JSON.stringify(surveyData));
    console.log("✅ 설문 결과:", surveyData);
    window.location.href="result.html";
  }
};

// ======================== 이전 버튼 =========================
btnPrev.onclick=()=>{
  if(i>0){
    i--;
    drawQ();
  }
};
</script>
</body>
</html>
