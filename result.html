<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>YOURZOY ê²°ê³¼</title>
<style>
:root{
  --navy:#0B132B;
  --navy2:#1C2541;
  --gold:#FFD700;
  --text:#FFF;
}
body{
  margin:0;
  background:var(--navy);
  color:var(--text);
  font-family:"Noto Sans KR",sans-serif;
}
.wrap{
  max-width:640px;
  margin:6vh auto;
  padding:32px;
  border-radius:24px;
  background:var(--navy2);
  box-shadow:0 20px 60px rgba(0,0,0,.4);
}
h1{text-align:center;color:var(--gold);}
h2{text-align:center;margin:6px 0 20px;}
.card{
  padding:20px;
  background:#0f1733;
  border:1px solid rgba(255,215,0,.25);
  border-radius:14px;
  margin-bottom:18px;
}
b{color:var(--gold);}
footer{
  text-align:center;
  color:rgba(255,255,255,.45);
  font-size:12px;
  margin-top:24px;
}
button{
  width:100%;
  padding:13px;
  border:none;
  border-radius:14px;
  background:var(--gold);
  color:#111;
  font-weight:800;
  margin-top:16px;
  cursor:pointer;
}
button:hover{filter:brightness(1.05);}
.animal-icon{
  font-size:40px;
  text-align:center;
  margin:10px 0;
}
</style>
</head>

<body>
<main class="wrap">
  <h1>YOURZOY ê²°ê³¼</h1>
  <div id="out"></div>
  <button onclick="location.href='index.html'">ë‹¤ì‹œí•˜ê¸°</button>
  <footer>Â© 2025 YOURZOY</footer>
</main>

<script>
// ===============================
// 1ï¸âƒ£ ì €ì¥ëœ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
// ===============================
const birthData = JSON.parse(localStorage.getItem("birthData") || "{}");
const surveyType = JSON.parse(localStorage.getItem("surveyType") || "{}");

if(!birthData.iljuName || !surveyType.zone){
  document.getElementById("out").innerHTML="<p>âš ï¸ ë°ì´í„°ê°€ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤. ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì§„í–‰í•´ì£¼ì„¸ìš”.</p>";
}else{
  renderResult(birthData, surveyType);
}

// ===============================
// 2ï¸âƒ£ ë™ë¬¼ ì•„ì´ì½˜ + ì„¤ëª… ë§¤í•‘
// ===============================
const animalIcons = {
  "ì¥":"ğŸ­","ì†Œ":"ğŸ®","í˜¸ë‘ì´":"ğŸ¯","í† ë¼":"ğŸ°","ìš©":"ğŸ‰",
  "ë±€":"ğŸ","ë§":"ğŸ´","ì–‘":"ğŸ‘","ì›ìˆ­ì´":"ğŸ’","ë‹­":"ğŸ”",
  "ê°œ":"ğŸ¶","ë¼ì§€":"ğŸ·"
};

const elementTraits = {
  "ëª©":"ì„±ì¥Â·ì°½ì¡°ì˜ ì—ë„ˆì§€, í™•ì¥ì„±ê³¼ ë„ì „",
  "í™”":"ì—´ì •Â·í‘œí˜„ì˜ ì—ë„ˆì§€, ì¶”ì§„ë ¥ê³¼ ì¹´ë¦¬ìŠ¤ë§ˆ",
  "í† ":"ì•ˆì •Â·ì¡°í™”ì˜ ì—ë„ˆì§€, ì¤‘ì‹¬ì„±ê³¼ ì‹ ë¢°",
  "ê¸ˆ":"ê²°ë‹¨Â·ì§ˆì„œì˜ ì—ë„ˆì§€, êµ¬ì¡°ì  ì‚¬ê³ ì™€ í†µì œ",
  "ìˆ˜":"ìœ ì—°Â·ê°ì„±ì˜ ì—ë„ˆì§€, íë¦„ê³¼ ì§€í˜œ"
};

const zoneDesc = {
  "A-Zone":"í˜„ì‹¤Â·ì¡°ì§ ì¤‘ì‹¬, ê³„íšê³¼ ì•ˆì •ì˜ ì˜ì—­",
  "B-Zone":"ê³µê°Â·ê°ì„± ì¤‘ì‹¬, ê´€ê³„ì™€ ê°€ì¹˜ì˜ ì˜ì—­",
  "C-Zone":"ì „ëµÂ·ì°½ì˜ ì¤‘ì‹¬, ë¶„ì„ê³¼ ë¹„ì „ì˜ ì˜ì—­",
  "D-Zone":"ëª¨í—˜Â·ììœ  ì¤‘ì‹¬, ì¦‰í¥ê³¼ ê°ê°ì˜ ì˜ì—­"
};

// ===============================
// 3ï¸âƒ£ ê²°ê³¼ ë Œë”ë§ í•¨ìˆ˜
// ===============================
function renderResult(b, s){
  const icon = animalIcons[b.animal] || "âœ¨";
  const desc = zoneDesc[s.zone] || "ì •ë³´ ì—†ìŒ";

  // ê°„ë‹¨ ë¦¬í¬íŠ¸ ë¬¸ì¥ ìƒì„±
  const report = makeReport(b, s);

  document.getElementById("out").innerHTML = `
    <h2>${b.color} ${b.animal}</h2>
    <div class="animal-icon">${icon}</div>

    <div class="card">
      <b>ğŸŒˆ ì˜¤í–‰</b>: ${b.elem}<br>
      <b>ğŸ¨ ìƒ‰ìƒ</b>: ${b.color}<br>
      <b>ğŸ¾ ë™ë¬¼</b>: ${b.animal}<br>
      <b>ğŸ§© ì¼ì£¼ëª…</b>: ${b.iljuName}
    </div>

    <div class="card">
      <b>ğŸ’« MBTI</b>: ${s.mbti}<br>
      <b>ğŸŒŒ ZONE</b>: ${s.zone}<br>
      ì„¤ëª…: ${desc}
    </div>

    <div class="card">
      <b>ğŸ”® AI ë¦¬í¬íŠ¸ ìš”ì•½</b><br>
      ${report}
    </div>
  `;
}

// ===============================
// 4ï¸âƒ£ ë¦¬í¬íŠ¸ ìƒì„±ê¸° (ê°„ì´í˜•)
// ===============================
function makeReport(b, s){
  const trait = elementTraits[b.elem] || "";
  const base = `${b.color} ${b.animal} (${b.elem}ì˜ ê¸°ìš´)`; 
  const zoneT = s.zone.replace("-Zone","");
  const lines = {
    "A":"ë‹¹ì‹ ì€ ${base}ê³¼ ${zoneT}ì˜ ì„±í–¥ì´ ê²°í•©ëœ ì•ˆì •ì  ë¦¬ë”í˜•ìœ¼ë¡œ, ì‹ ë¢°ë¥¼ ì¤‘ì‹œí•˜ê³  ì‹¤ì§ˆì  ì„±ê³¼ë¥¼ ì¶”êµ¬í•©ë‹ˆë‹¤.",
    "B":"${base}ì˜ ë”°ëœ»í•¨ê³¼ ${zoneT}ì˜ ê°ì„±ì´ ì¡°í™”ë¥¼ ì´ë£¨ëŠ” ê³µê°í˜•ìœ¼ë¡œ, ì£¼ë³€ ì‚¬ëŒë“¤ì—ê²Œ ê¸ì •ì  ì—ë„ˆì§€ë¥¼ ì „í•©ë‹ˆë‹¤.",
    "C":"${base}ì˜ ì¶”ì§„ë ¥ê³¼ ${zoneT}ì˜ ì „ëµì„±ì´ ë§Œë‚˜, ì•„ì´ë””ì–´ë¥¼ í˜„ì‹¤ë¡œ ë°”ê¾¸ëŠ” ì°½ì¡°ì  í˜ì‹ ê°€ì…ë‹ˆë‹¤.",
    "D":"${base}ì˜ ììœ ë¡œìš´ ì—ë„ˆì§€ì™€ ${zoneT}ì˜ ëª¨í—˜ì‹¬ì´ ê²°í•©ëœ íƒí—˜ê°€í˜•ìœ¼ë¡œ, í‹€ì— ì–½ë§¤ì´ì§€ ì•Šê³  ì„¸ìƒì„ íƒêµ¬í•©ë‹ˆë‹¤."
  };
  const z = s.zone.charAt(0);
  return (lines[z] || "ë‹¹ì‹ ì˜ ì„±í–¥ì€ ë…íŠ¹í•œ ì¡°í•©ìœ¼ë¡œ, ì•„ì§ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤.") + "<br><br>ìš”ì•½: "+trait;
}
</script>
</body>
</html>
